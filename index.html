<html>
<head>
<link rel="stylesheet" type="text/css" href="bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="bootstrap-responsive.min.css">
<link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery-1.7.2.min.js"></script>
<style type="text/css">
body
{
overflow:hidden;
}
#menu-bar
{
height:10%;
margin:0;
padding:0;
width:100%;
}
#terminal
{
font-family:Inconsolata;
font-size:15px;
padding:10px;
background:black;
height:80%;
}
#clipboard
{
position:absolute;
left:-20%;
width:0%;
height:0%;
}
#prompt, #before, #after
{
float:left;
left:0px;
color:#22FF08;
position:relative;
}
#prompt_blink
{
float:left;
left:0px;
position:relative;
width:8px;
height:100%;
}
.vis
{background:#22FF08	;color:black;}
.invi
{background:black;color:#22FF08;}
</style>
<script type="text/javascript">

////////////        Terminal Aesthetics!        ////////////



var cmd, content, position, prompt_content = "<span class='blinker'></span>";
var prompt = $('#prompt_blink');
var before = $('#before');
var after = $('#after');

function blink()
{
$('#prompt_blink').toggleClass('vis').toggleClass('invi');
var t = setTimeout("blink()",700);
}

function build_command(content,position)
{
$('#before').html(content.substr(0,position));
$('#after').html(content.substr(position+1,content.length-1));
$('#prompt_blink').html(content.charAt(position));
}

window.onload = blink();
$(document).ready(function() {
$('#clipboard').focus();
$('#terminal').click(function() {
$('#clipboard').focus();
});

$('#clipboard').keydown(function() {
content = $(this).val();
var position = $('#clipboard').prop("selectionStart");
if(position<=content.length-1)
build_command(content,position);
else
{
$('#before').html(content);
$('#prompt_blink').html('');
$('#after').html('');
}
});

$('#clipboard').keyup(function() {
var position = $('#clipboard').prop("selectionStart");
content = $(this).val();
if(position<=content.length-1)
build_command(content,position);
else
{
$('#before').html(content);
$('#prompt_blink').html('');
$('#after').html('');
}
if($('#prompt_blink').html()=='')
$('#prompt_blink').css('width','8px');
else
$('#prompt_blink').css('width','auto');
});

});



////////////        Terminal Aesthetics!        ////////////

</script>
</head>
<body>
<div id="menu-bar" class="span12"></div>

<div class="row">
<div id="terminal" class="offset1 span12">
<div id="line1" style="width:100%;height:18px;"><span id="prompt">karts-$ </span><span id="before"></span><span id="prompt_blink" class="vis"></span><span id="after"></span></div>
</div>
</div>
<div class="offset1 span12"><p id="test"></p></div>
<textarea id="clipboard"></textarea>
</body>
</html>
